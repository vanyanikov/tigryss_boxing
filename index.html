<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>tigryss_boxing</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background-color: #f7f7f7;
    }

    header {
      background-color: #222;
      color: white;
      padding: 10px;
      text-align: center;
    }

    nav {
      display: flex;
      justify-content: center;
      gap: 20px;
      background-color: #444;
      padding: 10px;
    }

    nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
      transition: background-color 0.3s ease, transform 0.3s ease;
      padding: 6px 12px;
      border-radius: 6px;
      display: inline-block;
    }

    nav a:hover {
      background-color: black;
      transform: scale(1.05);
    }

    main {
      padding: 20px;
    }

    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 30px;
    }

    .product-card {
      background-color: white;
      border-radius: 10px;
      padding: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      text-align: center;
      transition: background-color 0.3s ease, transform 0.3s ease;
      cursor: pointer;
      color: black;
    }

    .product-card:hover {
      background-color: black;
      transform: scale(1.05);
      color: white;
    }

    .product-card img {
      width: 100%;
      height: auto;
      border-radius: 8px;
      transition: transform 0.3s ease;
    }

    .product-card:hover img {
      transform: scale(1.1);
    }

    .product-card h3 {
      margin: 10px 0 0;
      font-size: 18px;
      transition: color 0.3s ease;
    }

    .product-card:hover h3 {
      color: white;
    }

    .order-button {
      display: inline-block;
      margin-top: 8px;
      padding: 8px 16px;
      background-color: #d12f2f;
      color: white;
      text-decoration: none;
      border-radius: 5px;
      font-weight: bold;
      transition: background-color 0.3s ease, transform 0.3s ease;
      cursor: pointer;
      user-select: none;
    }

    .order-button:hover {
      background-color: #a12222;
      transform: scale(1.1);
    }

    /* –ó–∞–∫–∞–∑—ã */
    #orders-list {
      max-width: 600px;
      margin: 0 auto;
    }

    .order-item {
      position: relative;
      padding: 12px 50px 12px 16px;
      margin-bottom: 12px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.1);
      font-size: 16px;
    }

    .delete-button {
      position: absolute;
      top: 50%;
      right: 12px;
      transform: translateY(-50%);
      background-color: #d12f2f;
      color: white;
      border: none;
      padding: 6px 12px;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.3s ease, background-color 0.3s ease;
    }

    .delete-button:hover {
      background-color: #a12222;
      transform: scale(1.1);
    }

    /* –§–æ—Ä–º–∞ –∑–∞–∫–∞–∑–∞ (–º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ) */
    .modal {
      display: none;
      position: fixed;
      z-index: 999;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background: white;
      padding: 20px;
      border-radius: 10px;
      max-width: 400px;
      width: 90%;
      box-shadow: 0 0 10px rgba(0,0,0,0.25);
      position: relative;
    }

    .modal-close {
      position: absolute;
      top: 10px; right: 10px;
      cursor: pointer;
      font-size: 20px;
      font-weight: bold;
      background: none;
      border: none;
    }

    form label {
      display: block;
      margin-bottom: 6px;
      font-weight: bold;
      font-size: 16px;
    }

    form input {
      width: 100%;
      padding: 8px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 15px;
    }

    form input:focus {
      outline: none;
      border-color: #d12f2f;
      box-shadow: 0 0 5px rgba(209,47,47,0.5);
    }

    form button {
      background-color: #d12f2f;
      color: white;
      border: none;
      padding: 12px 24px;
      font-weight: bold;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.3s ease;
      width: 100%;
      font-size: 16px;
    }

    form button:hover {
      background-color: #a12222;
      transform: scale(1.05);
    }

    .error-message {
      color: #d12f2f;
      margin-bottom: 12px;
      font-weight: bold;
      font-size: 14px;
      display: none;
    }

    .success-message {
      color: green;
      margin-bottom: 12px;
      font-weight: bold;
      font-size: 14px;
      display: none;
      text-align: center;
    }

    /* –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è */
    #auth form {
      max-width: 350px;
      margin: 0 auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.15);
    }

    #auth label {
      font-weight: bold;
      display: block;
      margin-bottom: 5px;
    }

    #auth input {
      width: 100%;
      padding: 8px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    #auth button {
      width: 100%;
      background-color: #d12f2f;
      color: white;
      padding: 12px;
      border: none;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    #auth button:hover {
      background-color: #a12222;
    }

    #auth .error-message {
      color: #d12f2f;
      margin-bottom: 12px;
      font-weight: bold;
      font-size: 14px;
    }

    #auth .success-message {
      color: green;
      margin-bottom: 12px;
      font-weight: bold;
      font-size: 14px;
    }

    #auth .toggle-password {
      margin-bottom: 15px;
      cursor: pointer;
      color: #555;
      font-size: 14px;
      user-select: none;
      display: inline-block;
    }

    #auth .logged-in-info {
      text-align: center;
      margin-bottom: 15px;
      font-weight: bold;
      color: green;
    }

    #auth .logout-button {
      background-color: #a12222;
      margin-top: 10px;
      width: 100%;
    }

  </style>
</head>
<body>

  <header>
    <h1>tigryss_boxing</h1>
  </header>

  <nav>
    <a href="#home" onclick="showTab('home')">–ì–æ–ª–æ–≤–Ω–∞</a>
    <a href="#cart" onclick="showTab('cart')">–ú–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</a>
    <a href="#inventory" onclick="showTab('inventory')">–Ü–Ω–≤–µ–Ω—Ç–∞—Ä</a>
    <a href="#auth" onclick="showTab('auth')">–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è</a>
  </nav>

  <main>
    <section id="home">
      <h2>–ú–æ–¥–µ–ª—ñ –±–æ–∫—Å–µ—Ä—Å—å–∫–∏—Ö —Ä—É–∫–∞–≤–∏—Ü—å</h2>
      <div id="home-products" class="product-grid">
        <!-- –¢–æ–≤–∞—Ä–∏ —Ç—É—Ç -->
      </div>
    </section>

    <section id="cart" style="display:none;">
      <h2>–ú–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
      <div id="orders-list">
        <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω—å...</p>
      </div>
    </section>

    <section id="inventory" style="display:none;">
      <h2>–Ü–Ω–≤–µ–Ω—Ç–∞—Ä</h2>
      <p>–Ü–Ω—à—ñ —Ç–æ–≤–∞—Ä–∏ –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ –ø—ñ–∑–Ω—ñ—à–µ üß§</p>
    </section>

    <section id="auth" style="display:none;">
      <h2>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è</h2>
      <div id="auth-content">
        <!-- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –ø–æ–∫–∞–∂–µ–º –∏–Ω—Ñ–æ –∏ –∫–Ω–æ–ø–∫—É –≤—ã—Ö–æ–¥–∞ -->
        <div class="logged-in-info" style="display:none;">
          –í–∏ —É–≤—ñ–π—à–ª–∏ —è–∫: <span id="user-email-display"></span>
          <button class="logout-button" id="logout-btn">–í–∏–π—Ç–∏</button>
        </div>

        <!-- –§–æ—Ä–º–∞ –ª–æ–≥–∏–Ω–∞ -->
        <form id="login-form">
          <div class="error-message" id="login-error"></div>
          <label for="email">Email:</label>
          <input type="email" id="email" required />
          <label for="password">–ü–∞—Ä–æ–ª—å:</label>
          <input type="password" id="password" required />
          <span class="toggle-password" id="toggle-password">–ü–æ–∫–∞–∑–∞—Ç–∏ –ø–∞—Ä–æ–ª—å</span>
          <button type="submit">–£–≤—ñ–π—Ç–∏</button>
          <p style="margin-top: 12px;">
            <a href="#" id="forgot-password-link">–ó–∞–±—É–ª–∏ –ø–∞—Ä–æ–ª—å?</a>
          </p>
        </form>

        <!-- –§–æ—Ä–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è -->
        <form id="forgot-password-form" style="display:none;">
          <div class="error-message" id="forgot-error"></div>
          <div class="success-message" id="forgot-success"></div>
          <label for="forgot-email">–í–≤–µ–¥—ñ—Ç—å —Å–≤—ñ–π Email –¥–ª—è –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—è:</label>
          <input type="email" id="forgot-email" required />
          <button type="submit">–í—ñ–¥–Ω–æ–≤–∏—Ç–∏ –ø–∞—Ä–æ–ª—å</button>
          <p style="margin-top: 12px;">
            <a href="#" id="back-to-login-link">–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å –¥–æ –≤—Ö–æ–¥—É</a>
          </p>
        </form>
      </div>
    </section>
  </main>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–∫–∞–∑–∞ -->
  <div id="order-modal" class="modal">
    <div class="modal-content">
      <button class="modal-close" id="close-order-modal">&times;</button>
      <h3>–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h3>
      <div class="error-message" id="order-error"></div>
      <div class="success-message" id="order-success"></div>
      <form id="order-form">
        <input type="hidden" id="order-product" />
        <label for="order-name">–Ü–º'—è:</label>
        <input type="text" id="order-name" required />
        <label for="order-surname">–ü—Ä—ñ–∑–≤–∏—â–µ:</label>
        <input type="text" id="order-surname" required />
        <label for="order-patronymic">–ü–æ-–±–∞—Ç—å–∫–æ–≤—ñ:</label>
        <input type="text" id="order-patronymic" required />
        <label for="order-phone">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É:</label>
        <input type="text" id="order-phone" required />
        <label for="order-city">–ú—ñ—Å—Ç–æ:</label>
        <input type="text" id="order-city" required />
        <label for="order-branch">–ù–æ–º–µ—Ä –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è:</label>
        <input type="text" id="order-branch" required />
        <button type="submit">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
      </form>
    </div>
  </div>

  <script>
    // === –î–∞–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ ===
    const products = [
      {
        id: 'black_velcro',
        title: 'Winning —á–æ—Ä–Ω—ñ –Ω–∞ –ª–∏–ø—É—á—Ü—ñ',
        img: 'images/black_velcro.jpg'
      },
      {
        id: 'grant_black_laces',
        title: 'Grant —á–æ—Ä–Ω—ñ –Ω–∞ —à–Ω—É—Ä–∫–∞—Ö',
        img: 'images/grant_black_laces.jpg'
      },
      {
        id: 'metallic_laces',
        title: 'Winning —Å—Ä—ñ–±–Ω—ñ –Ω–∞ —à–Ω—É—Ä–∫–∞—Ö',
        img: 'images/metallic_laces.jpg'
      },
      {
        id: 'white_velcro',
        title: 'Winning –±—ñ–ª—ñ –Ω–∞ –ª–∏–ø—É—á—Ü—ñ',
        img: 'images/white_velcro.jpg'
      },
      {
        id: 'yellow_laces',
        title: 'Winning –∂–æ–≤—Ç—ñ –Ω–∞ —à–Ω—É—Ä–∫–∞—Ö',
        img: 'images/yellow_laces.jpg'
      },
      {
        id: 'gray_laces',
        title: 'Winning —Å—ñ—Ä—ñ –Ω–∞ —à–Ω—É—Ä–∫–∞—Ö',
        img: 'images/gray_laces.jpg'
      },
      {
        id: 'white_laces',
        title: 'Winning –±—ñ–ª—ñ –Ω–∞ —à–Ω—É—Ä–∫–∞—Ö',
        img: 'images/white_laces.jpg'
      }
    ];

    // === –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫ ===
    function showTab(tabId) {
      document.querySelectorAll("main > section").forEach(s => s.style.display = "none");
      document.getElementById(tabId).style.display = "block";

      if(tabId === 'cart') {
        loadOrders();
      }
      if(tabId === 'auth') {
        updateAuthUI();
      }
    }

    // === –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π ===
    function displayHome() {
      const wrapper = document.getElementById('home-products');
      wrapper.innerHTML = products.map(p => `
        <div class="product-card" data-id="${p.id}">
          <a href="boxing gloves/product_${p.id}.html">
            <img src="${p.img}" alt="${p.title}">
            <h3>${p.title}</h3>
          </a>
          <button class="order-button" data-id="${p.id}">–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
        </div>
      `).join('');

      // –ù–∞–≤–µ—à–∏–≤–∞–µ–º —Å–æ–±—ã—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫–∏ "–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è"
      document.querySelectorAll('.order-button').forEach(btn => {
        btn.addEventListener('click', () => {
          const currentUser = localStorage.getItem('currentUser');
          if (!currentUser) {
            alert('–ë—É–¥—å –ª–∞—Å–∫–∞, —É–≤—ñ–π–¥—ñ—Ç—å –≤ –∞–∫–∞—É–Ω—Ç, —â–æ–± –æ—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.');
            showTab('auth');
            return;
          }
          openOrderModal(btn.getAttribute('data-id'));
        });
      });
    }

    // === –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–∫–∞–∑–∞ ===
    const orderModal = document.getElementById('order-modal');
    const closeOrderBtn = document.getElementById('close-order-modal');

    function openOrderModal(productId) {
      // –ó–∞–ø–æ–ª–Ω—è–µ–º —Å–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø—Ä–æ–¥—É–∫—Ç–∞
      const product = products.find(p => p.id === productId);
      document.getElementById('order-product').value = product.title;

      // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É –∏ —Å–æ–æ–±—â–µ–Ω–∏—è
      document.getElementById('order-form').reset();
      document.getElementById('order-error').style.display = 'none';
      document.getElementById('order-error').textContent = '';
      document.getElementById('order-success').style.display = 'none';
      document.getElementById('order-success').textContent = '';

      orderModal.style.display = 'flex';
    }

    function closeOrderModal() {
      orderModal.style.display = 'none';
    }

    closeOrderBtn.addEventListener('click', closeOrderModal);

    window.addEventListener('click', e => {
      if (e.target === orderModal) {
        closeOrderModal();
      }
    });

    // === –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã –∑–∞–∫–∞–∑–∞ ===
    function validateOrderForm(data) {
      const nameReg = /^[^0-9]+$/; // –±–µ–∑ —Ü–∏—Ñ—Ä
      const phoneReg = /^[0-9]+$/;  // —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã

      if (!nameReg.test(data.name)) {
        return "–ü–æ–ª–µ –Ü–º'—è –Ω–µ –ø–æ–≤–∏–Ω–Ω–æ –º—ñ—Å—Ç–∏—Ç–∏ —Ü–∏—Ñ—Ä —ñ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–º.";
      }
      if (!nameReg.test(data.surname)) {
        return "–ü–æ–ª–µ –ü—Ä—ñ–∑–≤–∏—â–µ –Ω–µ –ø–æ–≤–∏–Ω–Ω–æ –º—ñ—Å—Ç–∏—Ç–∏ —Ü–∏—Ñ—Ä —ñ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–º.";
      }
      if (!nameReg.test(data.patronymic)) {
        return "–ü–æ–ª–µ –ü–æ-–±–∞—Ç—å–∫–æ–≤—ñ –Ω–µ –ø–æ–≤–∏–Ω–Ω–æ –º—ñ—Å—Ç–∏—Ç–∏ —Ü–∏—Ñ—Ä —ñ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–º.";
      }
      if (!phoneReg.test(data.phone)) {
        return "–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É –ø–æ–≤–∏–Ω–µ–Ω –º—ñ—Å—Ç–∏—Ç–∏ –ª–∏—à–µ —Ü–∏—Ñ—Ä–∏.";
      }
      if (!nameReg.test(data.city)) {
        return "–ü–æ–ª–µ –ú—ñ—Å—Ç–æ –Ω–µ –ø–æ–≤–∏–Ω–Ω–æ –º—ñ—Å—Ç–∏—Ç–∏ —Ü–∏—Ñ—Ä —ñ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–º.";
      }
      if (!phoneReg.test(data.branch)) {
        return "–ù–æ–º–µ—Ä –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –ø–æ–≤–∏–Ω–µ–Ω –º—ñ—Å—Ç–∏—Ç–∏ –ª–∏—à–µ —Ü–∏—Ñ—Ä–∏.";
      }
      return null; // –æ—à–∏–±–æ–∫ –Ω–µ—Ç
    }

    // === –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã –∑–∞–∫–∞–∑–∞ ===
    document.getElementById('order-form').addEventListener('submit', e => {
      e.preventDefault();

      const currentUser = localStorage.getItem('currentUser');
      if (!currentUser) {
        alert('–°—Ö–æ–∂–µ, –≤–∏ –≤–∏–π—à–ª–∏ –∑ –∞–∫–∞—É–Ω—Ç—É. –ë—É–¥—å –ª–∞—Å–∫–∞, —É–≤—ñ–π–¥—ñ—Ç—å –∑–∞–Ω–æ–≤–æ.');
        showTab('auth');
        closeOrderModal();
        return;
      }

      const data = {
        product: document.getElementById('order-product').value,
        name: document.getElementById('order-name').value.trim(),
        surname: document.getElementById('order-surname').value.trim(),
        patronymic: document.getElementById('order-patronymic').value.trim(),
        phone: document.getElementById('order-phone').value.trim(),
        city: document.getElementById('order-city').value.trim(),
        branch: document.getElementById('order-branch').value.trim()
      };

      const errorMsg = validateOrderForm(data);
      const errorElem = document.getElementById('order-error');
      const successElem = document.getElementById('order-success');

      if (errorMsg) {
        errorElem.textContent = errorMsg;
        errorElem.style.display = 'block';
        successElem.style.display = 'none';
        return;
      }

      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–∞–∫–∞–∑ —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      let orders = JSON.parse(localStorage.getItem('orders')) || [];
      orders.push({
        ...data,
        date: new Date().toISOString(),
        userEmail: currentUser
      });
      localStorage.setItem('orders', JSON.stringify(orders));

      errorElem.style.display = 'none';
      successElem.textContent = '–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –±—É–ª–æ –ø–æ–¥–∞–Ω–æ –≤ –æ–±—Ä–æ–±–∫—É, —á–µ–∫–∞–π—Ç–µ –∫–æ–ª–∏ –Ω–∞—à—ñ –º–µ–Ω–µ–¥–∂–µ—Ä–∏ –∑–≤\'—è–∂—É—Ç—å—Å—è –∑ –≤–∞–º–∏.';
      successElem.style.display = 'block';

      e.target.reset();

      // –ß–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –∑–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª –∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ –∑–∞–∫–∞–∑–∞–º
      setTimeout(() => {
        closeOrderModal();
        showTab('cart');
        loadOrders();
      }, 3000);
    });

    // === –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ===
    function loadOrders() {
      const ordersList = document.getElementById('orders-list');
      const currentUser = localStorage.getItem('currentUser');
      if (!currentUser) {
        ordersList.innerHTML = '<p>–ë—É–¥—å –ª–∞—Å–∫–∞, —É–≤—ñ–π–¥—ñ—Ç—å, —â–æ–± –±–∞—á–∏—Ç–∏ —Å–≤–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.</p>';
        return;
      }

      let orders = JSON.parse(localStorage.getItem('orders')) || [];
      // –§–∏–ª—å—Ç—Ä—É–µ–º –ø–æ —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
      orders = orders.filter(o => o.userEmail === currentUser);

      if (orders.length === 0) {
        ordersList.innerHTML = '<p>–Ü—Å—Ç–æ—Ä—ñ—è –∑–∞–º–æ–≤–ª–µ–Ω—å –ø–æ—Ä–æ–∂–Ω—è.</p>';
        return;
      }

      ordersList.innerHTML = orders.map((o, i) => `
        <div class="order-item">
          <strong>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Ññ${i + 1}</strong><br>
          –¢–æ–≤–∞—Ä: ${o.product}<br>
          –Ü–º'—è: ${o.name}<br>
          –ü—Ä—ñ–∑–≤–∏—â–µ: ${o.surname}<br>
          –ü–æ-–±–∞—Ç—å–∫–æ–≤—ñ: ${o.patronymic}<br>
          –¢–µ–ª–µ—Ñ–æ–Ω: ${o.phone}<br>
          –ú—ñ—Å—Ç–æ: ${o.city}<br>
          –ù–æ–º–µ—Ä –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è: ${o.branch}<br>
          –î–∞—Ç–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è: ${new Date(o.date).toLocaleString('uk-UA')}<br>
          <button class="delete-button" data-index="${i}">–í–∏–¥–∞–ª–∏—Ç–∏</button>
        </div>
      `).join('');

      // –ù–∞–≤–µ—à–∏–≤–∞–µ–º —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
      document.querySelectorAll('.delete-button').forEach(btn => {
        btn.onclick = () => {
          let currentOrders = JSON.parse(localStorage.getItem('orders')) || [];
          // –¢–æ–ª—å–∫–æ –∑–∞–∫–∞–∑—ã —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
          let userOrders = currentOrders.filter(o => o.userEmail === currentUser);
          const idx = +btn.getAttribute('data-index');
          // –£–¥–∞–ª—è–µ–º –∑–∞–∫–∞–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
          userOrders.splice(idx, 1);
          // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—â–∏–π –º–∞—Å—Å–∏–≤ –∑–∞–∫–∞–∑–æ–≤ (—Å–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ)
          const otherOrders = currentOrders.filter(o => o.userEmail !== currentUser);
          localStorage.setItem('orders', JSON.stringify([...otherOrders, ...userOrders]));
          loadOrders();
        };
      });
    }

    // === –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è ===
    const loginForm = document.getElementById('login-form');
    const loginError = document.getElementById('login-error');
    const userEmailDisplay = document.getElementById('user-email-display');
    const loggedInInfo = document.querySelector('.logged-in-info');
    const logoutBtn = document.getElementById('logout-btn');

    function updateAuthUI() {
      const currentUser = localStorage.getItem('currentUser');
      if (currentUser) {
        // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ –æ –≤–æ—à–µ–¥—à–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
        loggedInInfo.style.display = 'block';
        userEmailDisplay.textContent = currentUser;
        loginForm.style.display = 'none';
      } else {
        loggedInInfo.style.display = 'none';
        userEmailDisplay.textContent = '';
        loginForm.style.display = 'block';
      }
    }

    // –ö–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ –≤—ã—Ö–æ–¥–∞
    logoutBtn.onclick = () => {
      localStorage.removeItem('currentUser');
      updateAuthUI();
      alert('–í–∏ –≤–∏–π—à–ª–∏ –∑ –∞–∫–∞—É–Ω—Ç—É.');
      showTab('home');
    };

    loginForm.addEventListener('submit', e => {
      e.preventDefault();
      const email = document.getElementById('email').value.trim().toLowerCase();
      const password = document.getElementById('password').value;

      // –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ ‚Äî –±–µ—Ä–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ localStorage
      const users = JSON.parse(localStorage.getItem('users')) || [];
      const foundUser = users.find(u => u.email === email);

      if (!foundUser) {
        loginError.textContent = '–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑ —Ç–∞–∫–∏–º email –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∏–π.';
        loginError.style.display = 'block';
        return;
      }
      if (foundUser.password !== password) {
        loginError.textContent = '–ù–µ–≤—ñ—Ä–Ω–∏–π –ø–∞—Ä–æ–ª—å.';
        loginError.style.display = 'block';
        return;
      }

      // –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥
      localStorage.setItem('currentUser', email);
      loginError.style.display = 'none';
      loginForm.reset();
      updateAuthUI();
      alert('–í—Ö—ñ–¥ –≤–∏–∫–æ–Ω–∞–Ω–æ —É—Å–ø—ñ—à–Ω–æ!');
      showTab('home');
    });

    // –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –ø–∞—Ä–æ–ª—å
    const togglePassword = document.getElementById('toggle-password');
    const passwordInput = document.getElementById('password');
    togglePassword.onclick = () => {
      if(passwordInput.type === 'password') {
        passwordInput.type = 'text';
        togglePassword.textContent = '–°—Ö–æ–≤–∞—Ç–∏ –ø–∞—Ä–æ–ª—å';
      } else {
        passwordInput.type = 'password';
        togglePassword.textContent = '–ü–æ–∫–∞–∑–∞—Ç–∏ –ø–∞—Ä–æ–ª—å';
      }
    };

    // === –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è ===
    const forgotLink = document.getElementById('forgot-password-link');
    const backToLoginLink = document.getElementById('back-to-login-link');
    const forgotForm = document.getElementById('forgot-password-form');
    const loginFormElem = document.getElementById('login-form');
    const forgotError = document.getElementById('forgot-error');
    const forgotSuccess = document.getElementById('forgot-success');

    forgotLink.onclick = e => {
      e.preventDefault();
      loginFormElem.style.display = 'none';
      forgotForm.style.display = 'block';
      loginError.style.display = 'none';
      forgotError.style.display = 'none';
      forgotSuccess.style.display = 'none';
    };

    backToLoginLink.onclick = e => {
      e.preventDefault();
      loginFormElem.style.display = 'block';
      forgotForm.style.display = 'none';
      forgotError.style.display = 'none';
      forgotSuccess.style.display = 'none';
    };

    forgotForm.addEventListener('submit', e => {
      e.preventDefault();
      const email = document.getElementById('forgot-email').value.trim().toLowerCase();
      const users = JSON.parse(localStorage.getItem('users')) || [];
      const user = users.find(u => u.email === email);

      if (!user) {
        forgotError.textContent = '–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑ —Ç–∞–∫–∏–º email –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∏–π.';
        forgotError.style.display = 'block';
        forgotSuccess.style.display = 'none';
        return;
      }

      forgotError.style.display = 'none';
      forgotSuccess.textContent = `–ü–∞—Ä–æ–ª—å –¥–ª—è ${email} : ${user.password}`;
      forgotSuccess.style.display = 'block';
    });

    // === –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ===

    // –î–ª—è —Ç–µ—Å—Ç–∞ ‚Äî –µ—Å–ª–∏ –Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å–æ–∑–¥–∞–¥–∏–º –æ–¥–Ω–æ–≥–æ
    if (!localStorage.getItem('users')) {
      localStorage.setItem('users', JSON.stringify([
        {email: 'test@example.com', password: '123456'}
      ]));
    }

    displayHome();
    showTab('home');
    updateAuthUI();

  </script>

</body>
</html>
